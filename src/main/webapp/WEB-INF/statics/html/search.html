<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>admin-æœç´¢é¡µé¢</title>
</head>
<link rel="stylesheet" href="../../bootstrap-3.3.7-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="../../plugin/layui/css/layui.css">
<link rel="stylesheet" type="text/css" href="../../plugin/font/iconfont.css">
<link rel="stylesheet" href="../../css/all.css">
<body>
<script type="text/javascript" src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="https://cdn.longdeshui.com.cn/dic.js"></script>
<script src="https://cdn.longdeshui.com.cn/resumedic.js"></script>
<script type="text/javascript" src="../../plugin/layui/layui.all.js"></script>
<script type="text/javascript">
    function queryIndustry() {
        // var date = "";
        var industryId = $("#industryId").val();
        var industry = $("#industry").val();
        var industryParentId = $("#industryParentId").val();
        $.ajax({
            type: "post",
            contentType: "application/json;charset=UTF-8",
            url: "/industry/findByUserIndustry",
            data: JSON.stringify({
                industryId: industryId,
                industry: industry,
                industryParentId: industryParentId
            }),
            success: function (result) {
                var html = "";
                //è¦†ç›–ä¹‹å‰çš„è¡¨
                document.getElementById("query").innerHTML = "<h4>" + "æ€»å…±æœç´¢åˆ°" + result.length + "æ¡è¡Œä¸šè¯å…¸ä¿¡æ¯" + "</h4>";
                html += "<hr><table border=1>";
                html += "<tr><td>è¡Œä¸šç¼–å·</td><td>è¡Œä¸šåç§°</td><td>çˆ¶çº§è¡Œä¸š</td><td>æ“ä½œ</td></tr>";
                var j = result.length;
                for (var i = 0; i < j; i++) {
                    var obj = result[i];
                    html += "<tr><td>" + obj.industryId + "</td><td>"
                        + obj.industry + "</td><td>"
                        + obj.industryParentId + "</td>"
                        + '<td><input id="up" type="button" value="ç¼–è¾‘" onclick=updateIndustry("'
                        + obj.industryId
                        + '")>'
                        + '<input type="button" value="åˆ é™¤"  onclick=delIndustry("'
                        + obj.industryId + '")></td>'
                        + "</tr>";
                }
                html += "</table>";
                $("#query").append(html);
            }, error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }

    function delIndustry(industryId) {
        if (confirm("ç¡®å®šè¦åˆ é™¤ç¼–å·ä¸º" + industryId + "çš„è¡Œä¸šè¯å…¸ä¿¡æ¯å—ï¼Ÿ(å­˜åœ¨ä¸‹çº§è¯·å°†ä¸‹çº§å…¨éƒ¨åˆ é™¤)")) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset=UTF-8",
                url: "/industry/deleteUserIndustry",
                data: JSON.stringify({
                    industryId: industryId,
                    industry: null
                }),
                success: function (result) {
                    console.log(result);
                    alert(result);
                    location.reload(true);
                }, error: function (e) {
                    alert("ä¸‹çº§å­˜åœ¨å­è¡Œä¸š");
                    console.log(e.status);
                }
            });
        } else {
            alert("æ‚¨å–æ¶ˆäº†åˆ é™¤æ“ä½œ!ğŸ‰");
        }

    }

    function updateIndustry(industryId) {
        var industry = prompt('ä¿®æ”¹ç¼–å·ä¸º"' + industryId + '"çš„è¡Œä¸šåç§°ä¸º:');
        if (industry) {
            var industryParentId = prompt('ä¿®æ”¹"' + industry + '"çš„çˆ¶çº§è¡Œä¸šä¸º:');
            if (industryParentId) {
                $.ajax({
                    type: "post",
                    contentType: "application/json;charset=UTF-8",
                    url: "/industry/updateUserIndustry",
                    data: JSON.stringify({
                        industryId: industryId,
                        industry: industry,
                        industryParentId: industryParentId
                    }), success: function (result) {
                        debugger;
                        console.log(result);
                        alert(result);
                        location.reload(true);
                    }, error: function (e) {
                        console.log(e.status);
                        console.log(e.responseText);
                    }
                });
            } else {
                alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
            }
        } else {
            alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
        }
    }

    function queryLocation() {
        // var date = "";
        var locationId = $("#locationId").val();
        var location = $("#location").val();
        var locationParentId = $("#locationParentId").val();
        $.ajax({
            type: "post",
            contentType: "application/json;charset=UTF-8",
            url: "/location/findByUserLocation",
            data: JSON.stringify({
                locationId: locationId,
                location: location,
                locationParentId: locationParentId
            }),
            success: function (result) {
                var html = "";
                //è¦†ç›–ä¹‹å‰çš„è¡¨
                document.getElementById("query").innerHTML = "<h4>" + "æ€»å…±æœç´¢åˆ°" + result.length + "æ¡åœ°å€è¯å…¸ä¿¡æ¯" + "</h4>";
                html += "<hr><table border=1>";
                html += "<tr><td>åœ°å€ç¼–å·</td><td>åœ°å€åç§°</td><td>çˆ¶çº§åœ°å€</td><td>æ“ä½œ</td></tr>";
                var j = result.length;
                for (var i = 0; i < j; i++) {
                    var obj = result[i];
                    html += "<tr><td>" + obj.locationId + "</td><td>"
                        + obj.location + "</td><td>"
                        + obj.locationParentId + "</td>"
                        + '<td><input id="up" type="button" value="ç¼–è¾‘" onclick=updateLocation("'
                        + obj.locationId
                        + '")>'
                        + '<input type="button" value="åˆ é™¤"  onclick=delLocation("'
                        + obj.locationId + '")></td>'
                        + "</tr>";
                }
                html += "</table>";
                $("#query").append(html);
            }, error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }

    function delLocation(locationId) {
        if (confirm("ç¡®å®šè¦åˆ é™¤ç¼–å·ä¸º" + locationId + "çš„è¡Œä¸šè¯å…¸ä¿¡æ¯å—ï¼Ÿ(å­˜åœ¨ä¸‹çº§è¯·å°†ä¸‹çº§å…¨éƒ¨åˆ é™¤)")) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset=UTF-8",
                url: "/location/deleteUserLocation",
                data: JSON.stringify({
                    locationId: locationId,
                    location: null

                }),
                success: function (result) {
                    console.log(result);
                    alert(result);
                    location.reload(true);
                }, error: function (e) {
                    alert("ä¸‹çº§å­˜åœ¨å­è¡Œä¸š");
                    console.log(e.status);
                }
            });
        } else {
            alert("æ‚¨å–æ¶ˆäº†åˆ é™¤æ“ä½œ!ğŸ‰");
        }

    }

    function updateLocation(locationId) {
        var location0 = prompt('ä¿®æ”¹ç¼–å·ä¸º"' + locationId + '"çš„è¡Œä¸šåç§°ä¸º:');
        if (location0) {
            var locationParentId = prompt('ä¿®æ”¹"' + locationId + '"çš„çˆ¶çº§è¡Œä¸šä¸º:');
            if (locationParentId) {
                $.ajax({
                    type: "post",
                    contentType: "application/json;charset=UTF-8",
                    url: "/location/updateUserLocation",
                    data: JSON.stringify({
                        locationId: locationId,
                        location: location0,
                        locationParentId: locationParentId
                    }), success: function (result) {
                        console.log(result);
                        alert(result);
                        location.reload(true);
                    }, error: function (e) {
                        console.log(e.status);
                        console.log(e.responseText);
                    }
                });
            } else {
                alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
            }
        } else {
            alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
        }
    }

    function queryJob() {
        var jobId = $("#jobId").val();
        var job = $("#job").val();
        var jobContain = $("#jobContain").val();
        $.ajax({
            type: "post",
            contentType: "application/json;charset=UTF-8",
            url: "/job/findByUserJob",
            data: JSON.stringify({
                jobId: jobId,
                job: job,
                jobContain: jobContain
            }),
            async: false,
            success: function (result) {
                var html = "";
                //è¦†ç›–ä¹‹å‰çš„è¡¨
                document.getElementById("query").innerHTML = "<h4>" + "æ€»å…±æœç´¢åˆ°" + result.length + "æ¡èŒä½è¯å…¸ä¿¡æ¯" + "</h4>";
                html += "<table border=1>";
                html += "<tr><td>èŒä½ç¼–å·</td><td>èŒä½åç§°</td><td>åŒ…å«çš„æ–‡å­—</td><td>æ“ä½œ</td></tr>";
                var j = result.length;
                for (var i = 0; i < j; i++) {
                    var obj = result[i];
                    html += "<tr><td>" + obj.jobId + "</td><td>"
                        + obj.job + "</td><td>"
                        + obj.jobContain + "</td>"
                        + '<td><input id="up" type="button" value="ç¼–è¾‘" onclick=updateJob("'
                        + obj.jobId
                        + '")>'
                        + '<input type="button" value="åˆ é™¤"  onclick=delJob("'
                        + obj.jobId + '")></td>'
                        + "</tr>";
                }
                html += "</table>";
                $("#query").append(html);
            }, error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }

    function delJob(jobId) {
        if (jobId == undefined) {
            jobId = $("#update_id").val();
            if (jobId == "") {
                alert("è¾“å…¥ä¸èƒ½ä¸ºç©º!");
                return;
            }
        }

        if (confirm("ç¡®å®šè¦åˆ é™¤ç¼–å·ä¸º" + jobId + "çš„èŒä½è¯å…¸ä¿¡æ¯å—ï¼Ÿ")) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset=UTF-8",
                url: "/job/deleteUserJob",
                data: JSON.stringify({
                    jobId: jobId,
                    job: null
                }),
                success: function (result) {
                    console.log(result);
                    alert(result);
                    location.reload(true);
                }, error: function (e) {
                    console.log(e.status);
                    console.log(e.responseText);
                }
            });
        } else {
            alert("æ‚¨å–æ¶ˆäº†åˆ é™¤æ“ä½œ!ğŸ‰");
        }

    }

    function updateJob(jobId) {
        if (jobId == undefined) {
            jobId = $("#update_id").val();
            if (jobId == "") {
                alert("ç¼–å·ä¸èƒ½ä¸ºç©º");
                return;
            }
        }
        var job = prompt('ä¿®æ”¹ç¼–å·ä¸º"' + jobId + '"çš„èŒä½åç§°ä¸º:');
        if (job) {
            var jobContain = prompt('ä¿®æ”¹"' + job + '"çš„åŒ…å«çš„å­—ç¬¦ä¸º:');
            if (jobContain) {
                $.ajax({
                    type: "post",
                    contentType: "application/json;charset=UTF-8",
                    url: "/job/updateUserJob",
                    data: JSON.stringify({
                        jobId: jobId,
                        job: job,
                        jobContain: jobContain
                    }), success: function (result) {
                        debugger;
                        console.log(result);
                        alert(result);
                        location.reload(true);
                    }, error: function (e) {
                        console.log(e.status);
                        console.log(e.responseText);
                    }
                });
            } else {
                alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
            }
        } else {
            alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
        }
    }

    function queryMajor() {
        var majorId = $("#majorId").val();
        var major = $("#major").val();
        var majorContain = $("#majorContain").val();
        $.ajax({
            type: "post",
            contentType: "application/json;charset=UTF-8",
            url: "/major/findByUserMajor",
            data: JSON.stringify({
                majorId: majorId,
                major: major,
                majorContain: majorContain
            }),
            async: false,
            success: function (result) {
                var html = "";
                //è¦†ç›–ä¹‹å‰çš„è¡¨
                document.getElementById("query").innerHTML = "<h4>" + "æ€»å…±æœç´¢åˆ°" + result.length + "æ¡ä¸“ä¸šè¯å…¸ä¿¡æ¯" + "</h4>";
                html += "<table border=1>";
                html += "<tr><td>ç¼–å·</td><td>ä¸“ä¸šåç§°</td><td>åŒ…å«çš„æ–‡å­—</td><td>æ“ä½œ</td></tr>";
                var j = result.length;
                for (var i = 0; i < j; i++) {
                    var obj = result[i];
                    html += "<tr><td>" + obj.majorId + "</td><td>"
                        + obj.major + "</td><td>"
                        + obj.majorContain + "</td>"
                        + '<td><input id="up" type="button" value="ç¼–è¾‘" onclick=updateMajor("'
                        + obj.majorId
                        + '")>'
                        + '<input type="button" value="åˆ é™¤"  onclick=delMajor("'
                        + obj.majorId + '")></td>'
                        + "</tr>";
                }
                html += "</table>";
                $("#query").append(html);
            }, error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
        // return date;
    }

    function delMajor(majorId) {
        if (majorId == undefined) {
            majorId = $("#update_id").val();
            if (majorId == "") {
                alert("è¾“å…¥ä¸èƒ½ä¸ºç©º!");
                return;
            }
        }

        if (confirm("ç¡®å®šè¦åˆ é™¤ç¼–å·ä¸º" + majorId + "çš„ä¸“ä¸šè¯å…¸ä¿¡æ¯å—ï¼Ÿ")) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset=UTF-8",
                url: "/major/deleteUserMajor",
                data: JSON.stringify({
                    majorId: majorId,
                    major: null
                }),
                success: function (result) {
                    console.log(result);
                    alert(result);
                    location.reload(true);
                }, error: function (e) {
                    console.log(e.status);
                    console.log(e.responseText);
                }
            });
        } else {
            alert("æ‚¨å–æ¶ˆäº†åˆ é™¤æ“ä½œ!ğŸ‰");
        }

    }

    function updateMajor(majorId) {
        var major = prompt('ä¿®æ”¹ç¼–å·ä¸º"' + majorId + '"çš„ä¸“ä¸šåç§°ä¸º:');
        if (major) {
            var majorContain = prompt('ä¿®æ”¹"' + major + '"çš„åŒ…å«çš„å­—ç¬¦ä¸º:');
            if (majorContain) {
                $.ajax({
                    type: "post",
                    contentType: "application/json;charset=UTF-8",
                    url: "/major/updateUserMajor",
                    data: JSON.stringify({
                        majorId: majorId,
                        major: major,
                        majorContain: majorContain
                    }), success: function (result) {
                        debugger;
                        console.log(result);
                        alert(result);
                        location.reload(true);
                    }, error: function (e) {
                        console.log(e.status);
                        console.log(e.responseText);
                    }
                });
            } else {
                alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
            }
        } else {
            alert("æ‚¨å–æ¶ˆäº†æ›´æ–°æ“ä½œ!ğŸ‰");
        }
    }
</script>
<div>
    <h4>æ¨¡ç³ŠæŸ¥è¯¢</h4>
    <br/>
    <input type="text" id="industryId" placeholder="è¾“å…¥è¡Œä¸šç¼–å·" minlength="2">
    <input type="text" id="industry" placeholder="è¾“å…¥è¡Œä¸šåç§°" minlength="2">
    <input type="text" id="industryParentId" placeholder="è¾“å…¥è¡Œä¸šçˆ¶çº§ç¼–å·" minlength="2">
    <button style="width: 100px;
            height: 25px;
            background-color: #68b86c;
            border: none;
            border-radius: 6px;
            color: #fff;
            margin-left: 1cm;
            text-align: center" onclick="queryIndustry()">æœç´¢è¡Œä¸šè¯å…¸
    </button>
    <br/>
    <hr>
    <input type="text" id="locationId" placeholder="è¾“å…¥åœ°å€ç¼–å·" minlength="2">
    <input type="text" id="location" placeholder="è¾“å…¥åœ°å€åç§°" minlength="2">
    <input type="text" id="locationParentId" placeholder="è¾“å…¥åœ°å€çˆ¶çº§ç¼–å·" minlength="2">
    <button style="width: 100px;
            height: 25px;
            background-color: #68b86c;
            border: none;
            border-radius: 6px;
            color: #fff;
            margin-left: 1cm;
            text-align: center" onclick="queryLocation()">æœç´¢åœ°å€è¯å…¸
    </button>
    <br/>
    <hr>
    <input type="text" id="jobId" placeholder="è¾“å…¥èŒä½ç¼–å·" minlength="2">
    <input type="text" id="job" placeholder="è¾“å…¥èŒä½åç§°" minlength="2">
    <input type="text" id="jobContain" placeholder="è¾“å…¥è¯¥èŒä½åŒ…å«çš„å­—ç¬¦" minlength="2">
    <button style="width: 100px;
            height: 25px;
            background-color: #68b86c;
            border: none;
            border-radius: 6px;
            color: #fff;
            margin-left: 1cm;
            text-align: center" onclick="queryJob()">æœç´¢èŒä½è¯å…¸
    </button>
    <br/>
    <hr>
    <input type="text" id="majorId" placeholder="è¾“å…¥ä¸“ä¸šç¼–å·" minlength="2">
    <input type="text" id="major" placeholder="è¾“å…¥ä¸“ä¸šåç§°" minlength="2">
    <input type="text" id="majorContain" placeholder="è¾“å…¥è¯¥ä¸“ä¸šåŒ…å«çš„å­—ç¬¦" minlength="2">
    <button style="width: 100px;
            height: 25px;
            background-color: #68b86c;
            border: none;
            border-radius: 6px;
            color: #fff;
            margin-left: 1cm;
            text-align: center" onclick="queryMajor()">æœç´¢ä¸“ä¸šè¯å…¸
    </button>
</div>
<div id="query"></div>
<hr>
</body>
</html>